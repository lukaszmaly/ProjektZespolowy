{% load static %}
<!DOCTYPE html>
<html>
<head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"> </script>

<script>

$(document).ready(function(){
	
	var licznik=0;
	var string;
	//pierwszy wczytany nick to pierwszy gracz
	var nickname;
	//nazwy kart rowniez pobierane z pliku, poki co wpisane na sztywno
	var card = "Golden Dragon.jpg";
	var card2 ="Butcher Ghoul.jpg";
	var ile = {{liczba_akcji}};
	
	//limit na sztywno - ilosc "divow"
	for (var i = 0, limit = 5; i <= limit; i++) 
	{
		string = "gracz1div"+i;
		$("#"+string).appendTo('.gracz1');
		$("#"+string).hide();
		string = "gracz2div"+i;		
		$("#"+string).appendTo('.gracz2');		
		$("#"+string).hide();
	}
	
	//wyswietla "plansze", czyli obie ramki do gry
	$('.gracz1').show();
	$('.gracz2').show();

	$('.nastepny').click(function()
	
	{
		if (licznik<ile)	
		{			

			if (nickname=="Olek")			
			{
				string = "gracz1div"+licznik;
				$('<img id="theImg" src="{% static "assets/images/'+card+' " %}" />').appendTo("#"+string);
				$("#"+string).show();
			}
			else if (nickname=="Jacek")
			{
				string = "gracz2div1";
				$('<img id="theImg" src="{% static "assets/images/'+card2+' " %}" />').appendTo("#"+string);			
				$("#"+string).show();
			}
			//wczytujemy jakas akcje
			else 
			{
				$("#tekst").empty();	
				{% for key,value in akcje.iteritems %}
					wartosc = {{key}};
					if (licznik == wartosc)
						$("#tekst").append('{{value}}');							
				{% endfor %}		
				
			}
			licznik++;
		}
	
    });
	
	$('.poprzedni').click(function(){
	
	string1 = "gracz1div"+licznik;
	string2 = "gracz2div"+licznik;
	$("#"+string1).empty();
	$("#"+string1).hide();
	$("#"+string2).empty();
	$("#"+string2).hide();
	
	 
	if (licznik!=0)
		licznik = licznik-1;
	$("#tekst").empty();
	{% for key,value in akcje.iteritems %}
		wartosc = {{key}};
		if (licznik == wartosc)
			$("#tekst").append('{{value}}');							
	{% endfor %}			
    });
});
</script>
</head>
<body>

<button class ="poprzedni">Previous</button>
<button class ="nastepny">Next</button>
<div id="tekst"><h2></div></h2>
<div class="pole">
<div class="gracz1" style="height:300px; width:1000px; border:1px solid green; overflow:auto;">
<div style="display: table-row">
        <div style="display: table-cell;" id ="gracz1div1"> </div>
		<div style="display: table-cell;" id ="gracz1div2"> </div>
		<div style="display: table-cell;" id ="gracz1div3"> </div>
		<div style="display: table-cell;" id ="gracz1div4"> </div>
		<div style="display: table-cell;" id ="gracz1div5"> </div>
    </div>

</div>

<div class="gracz2" style="height:300px; width:1000px; border:1px solid blue;overflow:auto; ">	
<div style="display: table-row">
        <div style="display: table-cell;" id ="gracz2div1"> </div>
		<div style="display: table-cell;" id ="gracz2div2"> </div>
		<div style="display: table-cell;" id ="gracz2div3"> </div>
		<div style="display: table-cell;" id ="gracz2div4"> </div>
		<div style="display: table-cell;" id ="gracz2div5"> </div>
    </div>

</div>

</div>
</body>
</html>
